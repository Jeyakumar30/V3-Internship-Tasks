import numpy as np
import cv2 as cv

segmentation = {
    "counts": [3912,10,363,18,356,23,301,10,25,10,5,27,296,16,19,16,1,30,292,20,15,50,289,24,11,53,287,26,9,55,285,29,6,57,283,32,3,59,281,34,1,60,261,11,8,97,257,17,5,98,254,21,2,99,252,124,251,126,249,127,248,128,247,129,246,130,246,130,245,131,244,132,244,132,244,132,243,133,243,131,1,1,243,127,249,99,1,22,254,97,5,16,257,95,9,12,259,93,13,10,259,92,17,7,259,90,21,5,259,88,26,2,260,86,289,84,291,82,294,79,297,77,298,47,1,27,301,47,2,23,304,46,5,19,306,46,7,14,309,45,9,10,312,44,13,5,314,43,333,42,334,40,336,40,336,40,336,40,336,40,337,38,338,36,341,33,343,30,347,26,351,23,353,20,357,16,361,13,364,9,369,4,373,1,66562,7,33,6,327,12,27,11,324,15,21,18,69,2,249,19,14,25,64,7,245,23,7,31,60,11,243,64,55,15,241,66,28,2,21,19,239,69,19,20,7,23,237,71,11,58,235,74,2,66,233,144,232,144,231,146,229,147,229,148,227,149,227,149,227,150,225,151,225,84,2,65,225,82,6,63,225,80,23,48,225,80,25,46,225,81,26,44,225,82,26,43,225,83,27,41,225,88,24,39,225,92,21,38,225,97,16,38,225,98,15,38,225,99,14,38,224,102,13,37,224,103,11,38,224,109,2,41,224,152,224,152,224,152,224,152,224,152,224,152,224,152,224,152,224,152,224,152,224,16,2,132,226,15,5,127,229,14,8,124,230,15,8,122,232,15,7,121,233,16,5,121,234,17,4,120,236,17,6,117,236,18,8,113,238,18,8,112,238,18,9,110,240,18,8,110,240,18,9,109,241,18,9,108,241,18,10,107,242,20,8,106,243,20,8,105,244,21,5,106,244,22,4,106,245,22,3,106,245,23,1,106,247,127,249,126,251,120,1,3,253,119,257,119,258,117,260,117,260,117,260,116,262,114,263,112,266,98,281,94,286,102,280,95,282,94,283,94,282,94,281,96,280,96,279,97,278,98,276,100,274,102,272,104,271,105,270,107,268,109,266,110,265,111,263,113,261,115,260,117,258,119,256,120,255,115,1,5,254,116,259,118,258,118,257,120,255,122,254,122,253,124,252,124,252,124,251,126,250,126,250,127,248,130,246,131,245,132,243,134,242,59,15,60,242,58,16,61,241,57,17,61,241,57,17,61,241,57,18,61,240,57,17,62,240,56,16,64,240,56,13,67,240,56,11,69,240,57,8,71,240,62,1,73,240,136,240,136,240,136,240,137,239,137,240,136,240,136,240,136,241,135,241,135,242,134,242,134,243,133,243,133,244,132,244,132,245,131,246,130,247,128,249,127,250,125,252,124,253,123,254,121,257,47,2,69,259,32,5,7,7,26,3,37,261,3,2,4,13,6,23,17,13,33,286,2,26,12,20,29,316,9,25,25,321,3,29,22,322,2,30,21,355,19,357,18,358,16,370,3,32544],
    "size": [376,500]
    } #,"area": 27277,"iscrowd": 1,"image_id": 50149,"bbox": [10,41,403,152],"category_id": 52,"id": 905200050149}

blank = np.zeros(np.prod(segmentation["size"]))
count = np.resize(np.array(segmentation["counts"]), (len(segmentation["counts"])//2, 2))
# print(count)
cont = 0
for i in range(len(count)):
    start = cont + count[i][0]
    # print(start)
    
    end = start + count[i][1]
    # print(end)
    
    blank[start : end+1] = 1
    cont = end

mask = np.resize(blank, segmentation["size"][::-1]).T
cv.imshow("Mask Image", mask)
cv.imwrite("Mask_Image.jpeg", mask)
cv.waitKey(0)
cv.destroyAllWindows()